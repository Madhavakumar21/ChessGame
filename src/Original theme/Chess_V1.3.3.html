<!DOCTYPE html>

<html>

    <head>
        <title>Chess game</title>

        <style>
            body {
                background-color: rgb(94, 27, 15);
            }
            h1 {
                text-align: center;
                font-family: Georgia, 'Times New Roman', Times, serif;
                font-size: 50pt;
                color: wheat;
            }
            table {
                background-color: sandybrown;
                margin-left: auto;
                margin-right: auto;
                width: 300pt;
                border: 5px solid black;
                border-collapse: collapse;
            }
            td {
                padding: 5px;
                text-align: center;
                font-size: 22pt;
                font-weight: bold;
            }
            #CapturedPieces {
                height: 75pt;
            }
            #Board {
                height: 300pt;
            }
            #notClicked {
                border: 2px solid black;
            }
            #clicked {
                background-color: blue;
                border: 2px solid black;
            }
            .spots {
                background-color: rgb(139, 28, 0);
            }
        </style>

        <script>

            let Flag = 0;
            let slotNo = 0;
            let piece = '';
            let destination = '';
            let flag = 'notSelected';
            const whitePieces = {"♖":0,"♘":1,"♗":2,"♔":3,"♕":4,"♙":5};

            document.addEventListener('DOMContentLoaded', function() {
                document.querySelectorAll('td').forEach(function(td) {
                    td.onclick = function() {
                        if (flag === 'notSelected') {
                            if (td.innerHTML !== "&nbsp;&nbsp;&nbsp;&nbsp;") {
                                td.id = 'clicked';
                                flag = 'selected';
                            }
                        } else {
                            piece = document.querySelector('#clicked').innerHTML;
                            destination = td.innerHTML;
                            if ((td.parentElement.parentElement.parentElement.id === 'Board') || (piece in whitePieces && td.id === 'slot2') || ((!(piece in whitePieces)) && td.id === 'slot1') || (td.id === 'clicked')) {
                                document.querySelector('#clicked').innerHTML = '&nbsp&nbsp&nbsp&nbsp';
                                if (destination !== "&nbsp;&nbsp;&nbsp;&nbsp;" && td.id !== 'clicked') {
                                    if (destination in whitePieces) {
                                        slotNo = 2;
                                    } else {
                                        slotNo = 1;
                                    }
                                    Flag = 0;
                                    document.querySelectorAll(`#slot${slotNo}`).forEach(function(slot) {
                                        if (slot.innerHTML === "&nbsp;&nbsp;&nbsp;&nbsp;" && Flag === 0) {
                                            slot.innerHTML = destination;
                                            Flag = 1;
                                        }
                                    });
                                    if (Flag === 0) {
                                        document.querySelector('#clicked').innerHTML = destination;
                                    }
                                }
                                td.innerHTML = piece;
                                if (document.querySelector('#clicked').parentElement.parentElement.parentElement.id === "Board") {
                                    document.querySelector('#clicked').id = "notClicked";
                                } else {
                                    if (piece in whitePieces) {
                                        document.querySelector('#clicked').id = "slot2";
                                    } else {
                                        document.querySelector('#clicked').id = "slot1";
                                    }
                                }
                                flag = 'notSelected';
                            }
                        }
                    }
                });

            });

        </script>

    </head>

    <body>

        <h1>&#9813CHESS&#9816</h1>

        <table id = "CapturedPieces">
            <tr>
                <td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td>
            </tr>
            <tr>
                <td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot1">&nbsp&nbsp&nbsp&nbsp</td>
            </tr>
        </table>

        <table id = "Board">
            <tr>
                <td id = "notClicked">&#9814</td><td id = "notClicked" class = 'spots'>&#9816</td>
                <td id = "notClicked">&#9815</td><td id = "notClicked" class = 'spots'>&#9812</td>
                <td id = "notClicked">&#9813</td><td id = "notClicked" class = 'spots'>&#9815</td>
                <td id = "notClicked">&#9816</td><td id = "notClicked" class = 'spots'>&#9814</td>
            </tr>
            <tr>
                <td id = "notClicked" class = 'spots'>&#9817</td><td id = "notClicked">&#9817</td>
                <td id = "notClicked" class = 'spots'>&#9817</td><td id = "notClicked">&#9817</td>
                <td id = "notClicked" class = 'spots'>&#9817</td><td id = "notClicked">&#9817</td>
                <td id = "notClicked" class = 'spots'>&#9817</td><td id = "notClicked">&#9817</td>
            </tr>
            <tr>
                <td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td>
            </tr>
            <tr>
                <td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td>
            </tr>
            <tr>
                <td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td>
            </tr>
            <tr>
                <td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "notClicked" class = 'spots'>&nbsp&nbsp&nbsp&nbsp</td><td id = "notClicked">&nbsp&nbsp&nbsp&nbsp</td>
            </tr>
            <tr>
                <td id = "notClicked">&#9823</td><td id = "notClicked" class = 'spots'>&#9823</td>
                <td id = "notClicked">&#9823</td><td id = "notClicked" class = 'spots'>&#9823</td>
                <td id = "notClicked">&#9823</td><td id = "notClicked" class = 'spots'>&#9823</td>
                <td id = "notClicked">&#9823</td><td id = "notClicked" class = 'spots'>&#9823</td>
            </tr>
            <tr>
                <td id = "notClicked" class = 'spots'>&#9820</td><td id = "notClicked">&#9822</td>
                <td id = "notClicked" class = 'spots'>&#9821</td><td id = "notClicked">&#9818</td>
                <td id = "notClicked" class = 'spots'>&#9819</td><td id = "notClicked">&#9821</td>
                <td id = "notClicked" class = 'spots'>&#9822</td><td id = "notClicked">&#9820</td>
            </tr>
        </table>

        <table id = "Captured pieces">
            <tr>
                <td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td>
            </tr>
            <tr>
                <td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td>
                <td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td><td id = "slot2">&nbsp&nbsp&nbsp&nbsp</td>
            </tr>
        </table>

    </body>
</html>